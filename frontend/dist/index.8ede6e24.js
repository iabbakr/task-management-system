const e="http://localhost:5000/api",t=async t=>(await fetch(`${e}/auth/register`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})).json(),a=async t=>(await fetch(`${e}/auth/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})).json(),n=async t=>(await fetch(`${e}/tasks`,{headers:{Authorization:`Bearer ${t}`}})).json(),s=async(t,a)=>(await fetch(`${e}/tasks`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify(a)})).json();let i=null;document.getElementById("register-btn").addEventListener("click",async e=>{e.preventDefault();let a=document.getElementById("username").value,n=document.getElementById("email").value,s=document.getElementById("password").value,d=await t({username:a,email:n,password:s});d.token?(i=d.token,alert("Registration successful!"),l()):alert(d.error||"Registration failed!")}),document.getElementById("login-btn").addEventListener("click",async e=>{e.preventDefault();let t=document.getElementById("email").value,n=document.getElementById("password").value,s=await a({email:t,password:n});s.token?(i=s.token,alert("Login successful!"),l(),d()):alert(s.message||"Login failed!")}),document.getElementById("task-form").addEventListener("submit",async e=>{e.preventDefault();let t=document.getElementById("task-title").value,a=document.getElementById("task-desc").value,n=document.getElementById("task-deadline").value,l=document.getElementById("task-priority").value,o=await s(i,{title:t,description:a,deadline:n,priority:l});o._id?(alert("Task added successfully!"),d()):alert(o.error||"Failed to add task!")});const l=()=>{document.getElementById("auth-section").style.display="none",document.getElementById("task-section").style.display="block"},d=async()=>{let e=await n(i),t=document.getElementById("task-list");t.innerHTML="",e.forEach(e=>{let a=document.createElement("div");a.className="task-item",a.innerHTML=`
      <h3>${e.title}</h3>
      <p>${e.description}</p>
      <p>Priority: ${e.priority}</p>
      <p>Deadline: ${new Date(e.deadline).toLocaleDateString()}</p>
    `,t.appendChild(a)})};
//# sourceMappingURL=index.8ede6e24.js.map
